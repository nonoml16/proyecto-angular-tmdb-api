<div
  [ngStyle]="{ 'background-image': 'url(' + urlBgImage() + ')' }"
  class="ahumado"
>
  <div class="fondo">
    <div class="contenedor">
      <div class="d-flex">
        <div class="">
          <img [src]="urlImage()" alt="" width="366px" height="549px" />
        </div>
        <div style="margin-left: 54px">
          <div class="titulo">
            <h1>
              {{ movie.original_title }} <span>({{ getReleaseYear() }})</span>
            </h1>
          </div>
          <p class="mb-3 genres">{{ getGenreNames() }}</p>
          <div class="d-flex mb-3">
            <div class="col-1">
              <circle-progress
                [percent]="movie.vote_average * 10"
                [radius]="100"
                [animation]="true"
                [animationDuration]="300"
              ></circle-progress>
            </div>
            <div class="ms-3">
              <button type="button" class="btn boton-trailer" (click)="open(movie.id, content)">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="40"
                  height="40"
                  fill="currentColor"
                  class="bi bi-play-fill"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"
                  />
                </svg>
                Ver trailer
              </button>
            </div>
            <div></div>
          </div>
          <div class="row caracteristicas mb-3">
            <div class="col-3">
              <h4>
                <strong>{{ getDirectorName()[0].name }}</strong>
              </h4>
              <h4><em>Director</em></h4>
            </div>
            <div class="col-3">
              <h4>
                <strong>{{ movie.original_language }}</strong>
              </h4>
              <h4><em>Original language</em></h4>
            </div>
            <div class="col-3">
              <h4>
                <strong>{{ movie.budget }}</strong>
              </h4>
              <h4><em>Budget</em></h4>
            </div>
            <div class="col-3">
              <h4>
                <strong>{{ movie.revenue }}</strong>
              </h4>
              <h4><em>Revenue</em></h4>
            </div>
          </div>
          <div>
            <h3 class="titulo-overview">Overview:</h3>
            <p class="cuerpo-overview">{{ movie.overview }}</p>
          </div>
        </div>
      </div>
      <div
        class="reparto list-group list-group-horizontal position-relative overflow-auto"
      >
        <app-movie-item
          class="list-group-item"
          *ngFor="let m of movieList"
          [movie]="m"
          [genres]="genres"
        ></app-movie-item>
      </div>
    </div>
  </div>
</div>

<ng-template #content let-modal>
  <div class="modal-header">
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <iframe *ngIf="trailerUrl" [src]="trailerUrl" width="100%" height="500px" title="Trailer Movie"
      frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      allowfullscreen></iframe>
    <p *ngIf="!trailerUrl">No hay trailer disponible</p>
  </div>
  <div class="modal-footer"></div>
</ng-template>
